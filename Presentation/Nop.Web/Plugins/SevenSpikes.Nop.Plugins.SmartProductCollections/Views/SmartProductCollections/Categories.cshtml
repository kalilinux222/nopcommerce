@using SevenSpikes.Nop.Plugins.SmartProductCollections.Models

@model SmartProductCollectionsCategoriesModel

@{
    Layout = "";

    Html.AddCssFileParts("~/Plugins/SevenSpikes.Nop.Plugins.SmartProductCollections/Themes/" + Model.Theme + "/Content/SmartProductCollections.css");
    
    var supportRtl = this.ShouldUseRtlTheme();
    if (supportRtl)
    {
        Html.AddCssFileParts("~/Plugins/SevenSpikes.Nop.Plugins.SmartProductCollections/Themes/" + Model.Theme + "/Content/SmartProductCollections.rtl.css");
    }

    Html.AddScriptParts("~/Plugins/SevenSpikes.Nop.Plugins.SmartProductCollections/Scripts/Categories.min.js");
}

@foreach (var categoryGroup in Model.CategoryGroups)
{
    <div class="spc spc-categories"
         notloaded
         data-categorygroupid="@categoryGroup.Id"
         data-getcategorygroupinfourl="@Url.Action("PrepareCategoryGroup", "SmartProductCollections")"
         data-getproductsforsourceurl="@Url.Action("PrepareCategoryTabProducts", "SmartProductCollections")">
        <div class="loading-overlay">
            <span>@T("SevenSpikes.SmartProductCollections.Public.Loading")</span>
        </div>
    </div>
}